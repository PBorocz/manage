################################################################################
1_bump:
  description: Bump the version number to the next /patch/ level and commit locally
  steps:
    - method: poetry_bump_version
      arguments:
        poetry_version: patch

    - method: update_readme

    - method: git_add
      arguments:
        pathspec: "README.org pyproject.toml"

    - method: git_commit

################################################################################
2_release:
  description: Release our distribution to our github repository
  steps:
    - recipe: build

    - method: git_push_to_github
      confirm: false
      echo_stdout: true

################################################################################
build:
  description: Build our distribution(s)
  steps:
    - method: poetry_lock_check
      confirm: false

    - recipe: clean
      confirm: false

    - method: build
      confirm: false
      echo_stdout: true

################################################################################
clean:
  description: Clean out our temp files and ALL previous builds
  steps:
    - method: clean
      confirm: false
